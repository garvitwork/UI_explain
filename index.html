<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ML Model Explainer Dashboard</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
</head>
<body>
    <!-- Main Container -->
    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                
                <div class="logo">
                    <div class="logo-icon">
                        <i class="fas fa-brain"></i>
                        <div class="logo-pulse"></div>
                    </div>
                    <div class="logo-text">
                        <span class="logo-main">ML Explainer</span>
                        <span class="logo-sub">AI Dashboard</span>
                    </div>
                </div>
                
            </div>
            
            <div class="nav-menu">
                <div class="nav-section">
                    <span class="nav-section-title">Main</span>
                    <a href="#" class="nav-item active" data-section="dashboard">
                        <div class="nav-item-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <span class="nav-item-text">Dashboard</span>
                        <div class="nav-item-indicator"></div>
                    </a>
                    <a href="#" class="nav-item" data-section="upload">
                        <div class="nav-item-icon">
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <span class="nav-item-text">Upload</span>
                        <div class="nav-item-indicator"></div>
                    </a>
                    <a href="#" class="nav-item" data-section="results">
                        <div class="nav-item-icon">
                            <i class="fas fa-analytics"></i>
                        </div>
                        <span class="nav-item-text">Results</span>
                        <div class="nav-item-indicator"></div>
                    </a>
                </div>
                
                <div class="nav-section">
                    <span class="nav-section-title">Analysis</span>
                    <a href="#" class="nav-item" data-section="visualizations">
                        <div class="nav-item-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <span class="nav-item-text">Visualizations</span>
                        <div class="nav-item-indicator"></div>
                    </a>
                    <a href="#" class="nav-item" data-section="logs">
                        <div class="nav-item-icon">
                            <i class="fas fa-file-alt"></i>
                        </div>
                        <span class="nav-item-text">Logs</span>
                        <div class="nav-item-indicator"></div>
                    </a>
                    <a href="#" class="nav-item" data-section="system">
                        <div class="nav-item-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <span class="nav-item-text">System Info</span>
                        <div class="nav-item-indicator"></div>
                    </a>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="api-status-card" id="apiStatus">
                    <div class="status-header">
                        <i class="fas fa-circle status-icon"></i>
                        <span class="status-text">Checking API...</span>
                    </div>
                    
                </div>
                
                <div class="user-profile">
                    <div class="user-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-info">
                        <span class="user-name">ML Analyst</span>
                        <span class="user-role">Data Scientist</span>
                    </div>
                    <button class="user-menu-btn">
                        <i class="fas fa-chevron-up"></i>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Header -->
            <header class="top-header">
                <div class="header-left">
                    <h1 class="page-title">ML Model Explainer Dashboard</h1>
                    <p class="page-subtitle">Upload your model and data to generate comprehensive AI explanations</p>
                </div>
                <div class="header-right">
                    <div class="header-actions">
                        <button class="btn btn-outline" id="refreshBtn">
                            <i class="fas fa-sync-alt"></i>
                            Refresh
                        </button>
                        
                    </div>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section class="content-section active" id="dashboard-section">
                <div class="dashboard-grid">
                    <!-- Status Cards -->
                    <div class="status-cards">
                        <div class="status-card">
                            <div class="card-icon model-icon">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="card-content">
                                <h3>Model Status</h3>
                                <p id="modelStatusText">No model uploaded</p>
                                <div class="status-indicator" id="modelStatusIndicator">
                                    <span class="status-dot inactive"></span>
                                    <span>Inactive</span>
                                </div>
                            </div>
                        </div>

                        <div class="status-card">
                            <div class="card-icon dataset-icon">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="card-content">
                                <h3>Dataset Status</h3>
                                <p id="datasetStatusText">No dataset uploaded</p>
                                <div class="status-indicator" id="datasetStatusIndicator">
                                    <span class="status-dot inactive"></span>
                                    <span>Inactive</span>
                                </div>
                            </div>
                        </div>

                        <div class="status-card">
                            <div class="card-icon analysis-icon">
                                <i class="fas fa-chart-pie"></i>
                            </div>
                            <div class="card-content">
                                <h3>Analysis Status</h3>
                                <p id="analysisStatusText">Ready to analyze</p>
                                <div class="status-indicator" id="analysisStatusIndicator">
                                    <span class="status-dot pending"></span>
                                    <span>Pending</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="quick-actions">
                        <h3>Quick Actions</h3>
                        <div class="action-buttons">
                            <button class="action-btn" data-action="upload-model">
                                <i class="fas fa-robot"></i>
                                <span>Upload Model</span>
                            </button>
                            <button class="action-btn" data-action="upload-dataset">
                                <i class="fas fa-database"></i>
                                <span>Upload Dataset</span>
                            </button>
                            <button class="action-btn" data-action="generate-explanations">
                                <i class="fas fa-magic"></i>
                                <span>Generate Explanations</span>
                            </button>
                            <button class="action-btn" data-action="view-results">
                                <i class="fas fa-chart-line"></i>
                                <span>View Results</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Upload Section -->
            <section class="content-section" id="upload-section">
                <div class="upload-container">
                    <div class="upload-grid">
                        <!-- Model Upload -->
                        <div class="upload-card">
                            <div class="upload-header">
                                <i class="fas fa-robot"></i>
                                <h3>Upload Model</h3>
                            </div>
                            <div class="upload-area" id="modelUpload">
                                <div class="upload-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <h4>Drop your model file here</h4>
                                <p>or click to browse</p>
                                <small>Supports .pkl, .joblib files (max 50MB)</small>
                                <input type="file" id="modelFile" accept=".pkl,.joblib" style="display: none;">
                            </div>
                            <div class="upload-status" id="modelStatus"></div>
                        </div>

                        <!-- Dataset Upload -->
                        <div class="upload-card">
                            <div class="upload-header">
                                <i class="fas fa-database"></i>
                                <h3>Upload Dataset</h3>
                            </div>
                            <div class="upload-area" id="datasetUpload">
                                <div class="upload-icon">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                </div>
                                <h4>Drop your CSV file here</h4>
                                <p>or click to browse</p>
                                <small>Supports CSV files (max 10MB)</small>
                                <input type="file" id="datasetFile" accept=".csv" style="display: none;">
                            </div>
                            <div class="upload-status" id="datasetStatus"></div>
                        </div>
                    </div>

                    <!-- Generate Button -->
                    <div class="generate-section">
                        <button class="btn btn-primary btn-lg" id="generateBtn" disabled>
                            <i class="fas fa-magic"></i>
                            Generate Explanations
                        </button>
                    </div>
                </div>
            </section>

            <!-- Progress Section -->
            <section class="content-section" id="progress-section" style="display: none;">
                <div class="progress-container">
                    <div class="progress-card">
                        <div class="progress-header">
                            <i class="fas fa-cogs"></i>
                            <h3>Processing Analysis</h3>
                            <div class="progress-status" id="progressStatus">Initializing...</div>
                        </div>
                        <div class="progress-body">
                            <div class="progress-bar-container">
                                <div class="progress-bar">
                                    <div class="progress-fill" id="progressFill"></div>
                                </div>
                                <div class="progress-percentage" id="progressPercentage">0%</div>
                            </div>
                            <div class="progress-text" id="progressText">Initializing analysis...</div>
                            <div class="progress-details" id="progressDetails"></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Results Section -->
            <section class="content-section" id="results-section">
                <div class="results-container">
                    <!-- Summary Cards -->
                    <div class="summary-grid">
                        <div class="summary-card">
                            <div class="summary-header">
                                <i class="fas fa-chart-line"></i>
                                <span>Model Type</span>
                            </div>
                            <div class="summary-value" id="modelType">-</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-header">
                                <i class="fas fa-table"></i>
                                <span>Samples Processed</span>
                            </div>
                            <div class="summary-value" id="samplesProcessed">-</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-header">
                                <i class="fas fa-bullseye"></i>
                                <span>Predictions</span>
                            </div>
                            <div class="summary-value" id="predictionCount">-</div>
                        </div>
                        <div class="summary-card">
                            <div class="summary-header">
                                <i class="fas fa-star"></i>
                                <span>Fidelity Score</span>
                            </div>
                            <div class="summary-value" id="fidelityScore">-</div>
                        </div>
                    </div>

                    <!-- Explanation Tabs -->
                    <div class="tab-container">
                        <div class="tab-navigation">
                            <button class="tab-btn active" data-tab="business">
                                <i class="fas fa-briefcase"></i>
                                <span>Business Insights</span>
                            </button>
                            <button class="tab-btn" data-tab="shap">
                                <i class="fas fa-chart-bar"></i>
                                <span>SHAP Analysis</span>
                            </button>
                            <button class="tab-btn" data-tab="lime">
                                <i class="fas fa-microscope"></i>
                                <span>LIME Analysis</span>
                            </button>
                            <button class="tab-btn" data-tab="permutation">
                                <i class="fas fa-shuffle"></i>
                                <span>Permutation Importance</span>
                            </button>
                            <button class="tab-btn" data-tab="interactions">
                                <i class="fas fa-network-wired"></i>
                                <span>Feature Interactions</span>
                            </button>
                        </div>

                        <div class="tab-content">
                            <!-- Business Tab -->
                            <div class="tab-pane active" id="business">
                                <div class="explanation-card">
                                    <div class="card-header">
                                        <div class="header-left">
                                            <i class="fas fa-lightbulb"></i>
                                            <h3>Business-Friendly Explanation</h3>
                                        </div>
                                    </div>
                                    <div class="card-content">
                                        <div id="businessExplanation" class="explanation-text">
                                            Select a model and dataset to see business insights...
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- SHAP Tab -->
                            <div class="tab-pane" id="shap">
                                <div class="explanation-card">
                                    <div class="card-header">
                                        <div class="header-left">
                                            <i class="fas fa-chart-bar"></i>
                                            <h3>SHAP Feature Importance</h3>
                                        </div>
                                        <div class="status-badge" id="shapStatus">Not Available</div>
                                    </div>
                                    <div class="card-content">
                                        <div class="feature-list" id="shapFeatures">
                                            Select a model and dataset to see SHAP analysis...
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- LIME Tab -->
                            <div class="tab-pane" id="lime">
                                <div class="explanation-card">
                                    <div class="card-header">
                                        <div class="header-left">
                                            <i class="fas fa-microscope"></i>
                                            <h3>LIME Local Explanations</h3>
                                        </div>
                                        <div class="status-badge" id="limeStatus">Not Available</div>
                                    </div>
                                    <div class="card-content">
                                        <div class="feature-list" id="limeFeatures">
                                            Select a model and dataset to see LIME analysis...
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Permutation Tab -->
                            <div class="tab-pane" id="permutation">
                                <div class="explanation-card">
                                    <div class="card-header">
                                        <div class="header-left">
                                            <i class="fas fa-shuffle"></i>
                                            <h3>Permutation Feature Importance</h3>
                                        </div>
                                        <div class="status-badge" id="permutationStatus">Not Available</div>
                                    </div>
                                    <div class="card-content">
                                        <div class="feature-list" id="permutationFeatures">
                                            Select a model and dataset to see permutation importance...
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Interactions Tab -->
                            <div class="tab-pane" id="interactions">
                                <div class="explanation-card">
                                    <div class="card-header">
                                        <div class="header-left">
                                            <i class="fas fa-network-wired"></i>
                                            <h3>Feature Interactions</h3>
                                        </div>
                                        <div class="status-badge" id="interactionsStatus">Not Available</div>
                                    </div>
                                    <div class="card-content">
                                        <div class="interactions-list" id="interactionsList">
                                            Select a model and dataset to see feature interactions...
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Prediction Statistics -->
                    <div class="prediction-stats" id="predictionStats" style="display: none;">
                        <div class="stats-card">
                            <div class="card-header">
                                <div class="header-left">
                                    <i class="fas fa-chart-pie"></i>
                                    <h3>Prediction Statistics</h3>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="stats-grid">
                                    <div class="stat-item">
                                        <span class="stat-label">Mean:</span>
                                        <span class="stat-value" id="predMean">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Std Dev:</span>
                                        <span class="stat-value" id="predStd">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Min:</span>
                                        <span class="stat-value" id="predMin">-</span>
                                    </div>
                                    <div class="stat-item">
                                        <span class="stat-label">Max:</span>
                                        <span class="stat-value" id="predMax">-</span>
                                    </div>
                                </div>
                                <div class="sample-predictions">
                                    <h4>Sample Predictions:</h4>
                                    <div id="samplePredictions" class="prediction-values"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Visualizations Section -->
            <section class="content-section" id="visualizations-section">
                <div class="visualizations-container">
                    <div class="visualization-card">
                        <div class="card-header">
                            <div class="header-left">
                                <i class="fas fa-chart-line"></i>
                                <h3> Visualizations</h3>
                            </div>
                        </div>
                        <div class="card-content">
                            <div id="visualizationContent">
                                <div class="empty-state">
                                    <i class="fas fa-chart-bar"></i>
                                    <h4>No Visualizations Available</h4>
                                    <p>Upload model and dataset to generate interactive charts</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Logs Section -->
            <section class="content-section" id="logs-section">
                <div class="logs-container">
                    <div class="logs-header">
                        <h3>Analysis Logs</h3>
                        <div class="logs-controls">
                            <select class="form-select" id="logLevelFilter">
                                <option value="all">All Levels</option>
                                <option value="DEBUG">Debug</option>
                                <option value="INFO">Info</option>
                                <option value="WARNING">Warning</option>
                                <option value="ERROR">Error</option>
                            </select>
                            <button class="btn btn-outline btn-sm" id="refreshLogsBtn">
                                <i class="fas fa-sync-alt"></i>
                                Refresh
                            </button>
                            <button class="btn btn-outline btn-sm" id="clearLogsBtn">
                                <i class="fas fa-trash"></i>
                                Clear
                            </button>
                        </div>
                    </div>
                    
                    <div class="logs-stats">
                        <div class="stat-item">
                            <span class="stat-label">Total Logs:</span>
                            <span class="stat-value" id="totalLogs">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Errors:</span>
                            <span class="stat-value error" id="errorLogs">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Warnings:</span>
                            <span class="stat-value warning" id="warningLogs">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Last Update:</span>
                            <span class="stat-value" id="lastLogUpdate">Never</span>
                        </div>
                    </div>

                    <div class="logs-content">
                        <div class="log-entries" id="logEntries">
                            <div class="empty-state">
                                <i class="fas fa-file-alt"></i>
                                <h4>No Logs Available</h4>
                                <p>Process some data to see analysis logs</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- System Info Section -->
            <section class="content-section" id="system-section">
                <div class="system-container">
                    <div class="system-grid">
                        <!-- Configuration Card -->
                        <div class="system-card">
                            <div class="card-header">
                                <div class="header-left">
                                    <i class="fas fa-cog"></i>
                                    <h3>Configuration</h3>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="config-list" id="configList">
                                    <div class="config-item">
                                        <span class="config-label">Max Processing Samples:</span>
                                        <span class="config-value">1000</span>
                                    </div>
                                    <div class="config-item">
                                        <span class="config-label">Max SHAP Samples:</span>
                                        <span class="config-value">100</span>
                                    </div>
                                    <div class="config-item">
                                        <span class="config-label">Max LIME Samples:</span>
                                        <span class="config-value">5</span>
                                    </div>
                                    <div class="config-item">
                                        <span class="config-label">API Timeout:</span>
                                        <span class="config-value">30s</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- API Status Card -->
                        <div class="system-card">
                            <div class="card-header">
                                <div class="header-left">
                                    <i class="fas fa-server"></i>
                                    <h3>API Status</h3>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="api-info" id="apiInfo">
                                    <div class="api-status-item">
                                        <span class="status-indicator">
                                            <span class="status-dot active"></span>
                                            <span>Connected</span>
                                        </span>
                                    </div>
                                    <div class="api-details">
                                        <p><strong>Endpoint:</strong> <span id="apiEndpoint">-</span></p>
                                        <p><strong>Version:</strong> <span id="apiVersion">-</span></p>
                                        <p><strong>Last Check:</strong> <span id="lastApiCheck">-</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Performance Metrics Card -->
                        <div class="system-card">
                            <div class="card-header">
                                <div class="header-left">
                                    <i class="fas fa-tachometer-alt"></i>
                                    <h3>Performance Metrics</h3>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="performance-metrics" id="performanceMetrics">
                                    <div class="empty-state">
                                        <i class="fas fa-chart-line"></i>
                                        <p>Process data to see performance metrics</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Supported Formats Card -->
                        <div class="system-card">
                            <div class="card-header">
                                <div class="header-left">
                                    <i class="fas fa-file-code"></i>
                                    <h3>Supported Formats</h3>
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="format-lists">
                                    <div class="format-group">
                                        <h4>Models</h4>
                                        <ul>
                                            <li>.pkl (Pickle)</li>
                                            <li>.joblib (Joblib)</li>
                                        </ul>
                                    </div>
                                    <div class="format-group">
                                        <h4>Data</h4>
                                        <ul>
                                            <li>.csv (Comma Separated)</li>
                                        </ul>
                                    </div>
                                    <div class="format-group">
                                        <h4>Frameworks</h4>
                                        <ul>
                                            <li>Scikit-learn</li>
                                            <li>XGBoost</li>
                                            <li>LightGBM</li>
                                            <li>CatBoost</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Error Section -->
            <section class="content-section" id="error-section" style="display: none;">
                <div class="error-container">
                    <div class="error-card">
                        <div class="error-header">
                            <i class="fas fa-exclamation-triangle"></i>
                            <h3>Error Occurred</h3>
                        </div>
                        <div class="error-content">
                            <p id="errorMessage">An unexpected error occurred.</p>
                            <div class="error-actions">
                                <button class="btn btn-primary" id="retryBtn">
                                    <i class="fas fa-redo"></i>
                                    Try Again
                                </button>
                                <button class="btn btn-outline" id="reportErrorBtn">
                                    <i class="fas fa-bug"></i>
                                    Report Issue
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay" style="display: none;">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Processing your request...</p>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
